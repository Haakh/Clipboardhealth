# Ticket Breakdown
We are a staffing company whose primary purpose is to book Agents at Shifts posted by Facilities on our platform. We're working on a new feature which will generate reports for our client Facilities containing info on how many hours each Agent worked in a given quarter by summing up every Shift they worked. Currently, this is how the process works:

- Data is saved in the database in the Facilities, Agents, and Shifts tables
- A function `getShiftsByFacility` is called with the Facility's id, returning all Shifts worked that quarter, including some metadata about the Agent assigned to each
- A function `generateReport` is then called with the list of Shifts. It converts them into a PDF which can be submitted by the Facility for compliance.

## You've been asked to work on a ticket. It reads:

**Currently, the id of each Agent on the reports we generate is their internal database id. We'd like to add the ability for Facilities to save their own custom ids for each Agent they work with and use that id when generating reports for them.**


Based on the information given, break this ticket down into 2-5 individual tickets to perform. Provide as much detail for each ticket as you can, including acceptance criteria, time/effort estimates, and implementation details. Feel free to make informed guesses about any unknown details - you can't guess "wrong".


You will be graded on the level of detail in each ticket, the clarity of the execution plan within and between tickets, and the intelligibility of your language. You don't need to be a native English speaker, but please proof-read your work.

## Your Breakdown Here
***Tickets are not in order***:

---
## Ticket 1 
**Title**: *UI -> Add a custom agent ID Input for each Agent*

**Description**: 

• Add a pencil Icon on the Agent Details Screen.

• Clicking on the pencil Icon opens a Form inside a Modal.

• The Form has alpha numeric input Field with Placeholder: `Add Custom Agent ID eg: agentId1`

• The Modal has a Submit and cancel button at the bottom of the form.

• If field is touched and validation fails show this error message in red below input field: `Agent Id can only contain digits or alphabets`

• Disable Submit button unless the field is filled and validated.


**Acceptance criteria**: 

• Form should be Responsive for all screen sizes.

• Input Field should have a Red border when Input is Invalid with a clear red text error message mentioned in the description.

• If the field is touched/clicked by the user the Validation of Alpha Numeric characters should be done.

• Submit should only be enabled when input field is filled and Valid.

• Modal should close if I click outside the Modal or on cancel Button.

**Story Points**: **3**


---

## Ticket 2 
**Title**: *UI -> API Integration for Custom Agent ID*

**Description**: 

• Call the API endpoint created in `ticket #3` on Click of submit button. 

• Handle errors from the API and show a toast to the user on Submit if error occurs.

**Acceptance criteria**: 

• Api is called on Click of submit button

• It should show a success toast on API success

• It should show an error toast on API error

**Blocked By**: Ticket #3

**Story Points**: 3


---

## Ticket 3
**Title**: Backend: Store Custom agent Id Attribute to DB 

**Description**: 

• Add a field `customAgentId` in the `Agents` Schema.

• Add an API endpoint in the backend which accepts a new field `customAgentId` and `agent_id` and updates that agent's data with new `customAgentId` value.

• return `true` on success

• return `false` with error data object on failure.

**Acceptance criteria**: 

• Both `customAgentId` and `agent_id` are required

• An error is returned when either props is not provided.


**Story Points**: 5

---


## Ticket 4
**Title**: Modify `getShiftsByFacility` to return the Custom Agent ID

**Description**: 

• Modify `getShiftsByFacility` response to return `customAgentId` as agent's meta data associated with each shift

**Acceptance criteria**: 

• The new agent meta data returned should contain the `customAgentId`.


**Blocked By**: Ticket #3

**Story Points**: 5


---

## Ticket 5
**Title**: Modify `generateReport` to return new `customAgentId`

**Description**: 

• Modify `generateReport` to add a new column with the key `customAgentId` in the PDF generated

**Acceptance criteria**: 

• The new PDF generated by this function should have a new Custom Agent ID column if the `customAgentId` is added by the facility.

• No new Column should be displayed if the `customAgentId` is not added by the facility.

**Blocked By**: Ticket #4

**Story Points**: 5